<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<AnchorPane xmlns:fx="http://javafx.com/fxml/1"
            xmlns="http://javafx.com/javafx/17"
            fx:controller="ed.sanarenovo.controllers.Blog.BlogController"
            stylesheets="@/Blog/css/BlogStyle.css"
            prefHeight="600.0" prefWidth="800.0">

   <children>

      <VBox spacing="15" AnchorPane.topAnchor="0" AnchorPane.leftAnchor="0"
            AnchorPane.rightAnchor="0" AnchorPane.bottomAnchor="0">
         <padding>
            <Insets top="20" right="20" bottom="20" left="20"/>
         </padding>

         <!-- Table -->
         <TableView fx:id="tableBlog" prefHeight="200.0">
            <columns>
               <TableColumn fx:id="colId" text="ID"/>
               <TableColumn fx:id="colTitle" text="Titre"/>
               <TableColumn fx:id="colContent" text="Contenue"/>
               <TableColumn fx:id="colImage" text="Image"/>
               <TableColumn fx:id="colCategory" text="Catégories" prefWidth="150"/>
            </columns>
         </TableView>

         <!-- Formulaire -->
         <VBox spacing="10">
            <HBox spacing="10">
               <Label text="Titre :" minWidth="80"/>
               <TextField fx:id="txtTitle" promptText="Titre"/>
               <Button fx:id="btnAdd" text="Ajouter" onAction="#addBlog"/>
            </HBox>

            <HBox spacing="10">
               <Label text="Contenue :" minWidth="80"/>
               <TextField fx:id="txtContent" promptText="Contenue"/>
               <Button fx:id="btnUpdate" text="Modifier" onAction="#updateBlog"/>
            </HBox>

            <HBox spacing="10">
               <Label text="Image :" minWidth="80"/>
               <TextField fx:id="txtImage" promptText="Image"/>
               <Button text="Choisir une image" onAction="#chooseImage"/>
               <Button fx:id="btnDelete" text="Supprimer" onAction="#deleteBlog"/>
            </HBox>

            <HBox spacing="10">
               <Label text="Catégories :" minWidth="80"/>
               <ListView fx:id="listCategories" prefHeight="80" prefWidth="200"/>
            </HBox>
         </VBox>

         <!-- Filtres -->
         <VBox spacing="10">
            <Label text="Filtres"/>
            <HBox spacing="10">
               <ComboBox fx:id="filterCategory" promptText="Filtrer par catégorie"/>
               <Button text="Appliquer les filtres" onAction="#applyFilters"/>
               <Button text="Réinitialiser" onAction="#resetFilters"/>
            </HBox>
         </VBox>

         <!-- Recherche et actions -->
         <HBox spacing="10">
            <Label text="Recherche :"/>
            <TextField fx:id="txtSearch" promptText="Rechercher par titre"/>
            <Button text="Rechercher" onAction="#searchBlog"/>
            <Button text="Translate" onAction="#handleTranslate"/>
            <Button text="Télécharger PDF" onAction="#handleDownloadPdf"/>
            <Button text="Écouter" onAction="#handleListen"/>
         </HBox>

         <!-- Résultat de traduction -->
         <HBox spacing="10">
            <Label text="Titre traduit :"/>
            <Label fx:id="blogTitle" text="..."/>
         </HBox>
         <HBox spacing="10">
            <Label text="Contenu traduit :"/>
            <TextArea fx:id="blogContent" prefHeight="80"/>
         </HBox>

         <!-- Navigation -->
         <HBox spacing="10" alignment="CENTER">
            <Button fx:id="btnPrevious" text="&lt; Précédent" onAction="#previousPage"/>
            <Button fx:id="btnNext" text="Suivant &gt;" onAction="#nextPage"/>
            <Label fx:id="lblPage" text="Page 1"/>
            <Button fx:id="btnCategories" text="Gérer les catégories" onAction="#handleOpenCategoryPage"/>
            <Button fx:id="btnCommenter" text="Commenter" onAction="#openCommentPage"/>
            <Button text="Voir les statistiques"
                    onAction="#handleOpenStats" layoutX="20" layoutY="20"/>

         </HBox>
      </VBox>

   </children>
</AnchorPane>