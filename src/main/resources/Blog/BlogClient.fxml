<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.image.*?>
<?import javafx.geometry.Insets?>

<AnchorPane prefHeight="700.0" prefWidth="1000.0"
            xmlns:fx="http://javafx.com/fxml/1"
            xmlns="http://javafx.com/javafx/17"
            fx:controller="ed.sanarenovo.controllers.Blog.BlogClientController"
            styleClass="main-background"
            stylesheets="@css/BlogClientStyle.css">

    <VBox spacing="20" AnchorPane.topAnchor="20" AnchorPane.leftAnchor="20" AnchorPane.rightAnchor="20" AnchorPane.bottomAnchor="20">
        <!-- Header Section -->
        <HBox spacing="10" alignment="CENTER_LEFT" styleClass="header-container">
            <Label text="Blogs" styleClass="header-title"/>
            <Region HBox.hgrow="ALWAYS"/>
        </HBox>

        <!-- Search and Filter -->
        <HBox spacing="20" alignment="CENTER_LEFT" styleClass="toolbar">
            <TextField fx:id="txtSearch" promptText="ðŸ” Rechercher un blog..." styleClass="search-bar" HBox.hgrow="ALWAYS"/>
            <ComboBox fx:id="cmbCategory" promptText="Filtrer par catÃ©gorie" styleClass="filter-combo" prefWidth="200"/>
            <Button text="Rechercher" styleClass="button" onAction="#searchBlog"/>
        </HBox>

        <!-- Table des Blogs -->
        <TableView fx:id="tableBlog" VBox.vgrow="ALWAYS" styleClass="blog-table">
            <columns>
                <TableColumn fx:id="colId" text="ID" prefWidth="50"/>
                <TableColumn fx:id="colTitle" text="Titre" prefWidth="200"/>
                <TableColumn fx:id="colContent" text="Contenu" prefWidth="300"/>
                <TableColumn fx:id="colImage" text="Image" prefWidth="150"/>
                <TableColumn fx:id="colCategory" text="CatÃ©gorie" prefWidth="150"/>
            </columns>
        </TableView>

        <!-- Zone de Traduction -->
        <VBox spacing="15" styleClass="translation-container">
            <Label text="Traduction" styleClass="section-title"/>
            <HBox spacing="10">
                <Label text="Titre traduit :" styleClass="label"/>
                <Label fx:id="blogTitle" styleClass="translated-title"/>
            </HBox>
            <HBox spacing="10">
                <Label text="Contenu traduit :" styleClass="label"/>
                <TextArea fx:id="blogContent" prefWidth="400" prefHeight="80" styleClass="translated-content"/>
            </HBox>
            <HBox spacing="10" alignment="CENTER_RIGHT">
                <Button text="Traduire" styleClass="btn-translate" onAction="#translateBlog"/>
            </HBox>
        </VBox>

        <!-- Navigation & Actions -->
        <HBox spacing="20" alignment="CENTER" styleClass="pagination-bar">
            <Button fx:id="btnPrevious" text="â† PrÃ©cÃ©dent" styleClass="pagination-button" onAction="#previousPage"/>
            <Label fx:id="lblPage" text="Page 1" styleClass="page-label"/>
            <Button fx:id="btnNext" text="Suivant â†’" styleClass="pagination-button" onAction="#nextPage"/>
            <Region HBox.hgrow="ALWAYS"/>
            <Button fx:id="btnDownloadPDF" text="TÃ©lÃ©charger PDF" styleClass="button" onAction="#downloadPDF"/>
            <Button fx:id="btnViewComments" text="Commenter" styleClass="button" onAction="#openCommentPage"/>
            <Button text="Ã‰couter" onAction="#handleListen" styleClass="button"/>
        </HBox>
    </VBox>
</AnchorPane>